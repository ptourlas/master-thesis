\chapter{Οντολογίες}
\label{ontologies}

\quad Οι οντολογίες αποτελούν το εργαλείο με τις μεγαλύτερες
εκφραστικές δυνατότητες στις Εννοιολογικές Τεχνολογίες.
Σύμφωνα με τον \eng{Gruber}, μια οντολογία αποτελεί έναν
\emph{τυπικό και σαφή προσδιορισμό μιας κοινής σύλληψης}.
Από τον παραπάνω ορισμό μπορούμε να εξάγουμε τα κύρια χαρακτηριστικά
μιας οντολογίας:
\begin{itemize}
	\item Τυπικότητα, η οποία μας επιτρέπει να ορίζουμε έννοιες
	      με τρόπο που τις καθιστά επεξεργάσιμες από μηχανές. Επιπλέον
	      μας επιτρέπει να επιβεβαιώσουμε την εγκυρότητα μιας έκφρασης
	      αλγοριθμικά, βασιζόμενοι μόνο στη δομή της.

	\item Σαφήνεια, που σημαίνει ότι αποδίδουμε το επιθυμητό νόημα
	      χωρίς την ανάγκη για επιπλέον πληροφορίες.

	\item Κοινή σύλληψη, καθώς μια οντολογία έχει αξία εφόσον
	      περιγράφει έννοιες αποδεκτές από όλους τους χρήστες της.
\end{itemize}

Οι οντολογίες φέρουν ένα αυστηρό λογικό υπόβαθρο. Αυτό είναι
αναγκαίο προκειμένου να περιγράφουν ένα πεδίο ενδιαφέροντος
με ακρίβεια και να εξασφαλίζεται ότι οι αλγόριθμοι για τον
χειρισμό τους συμπεριφέρονται με προβλέψιμο και ενιαίο τρόπο.
Μια ακόμα σημαντική δυνατότητα των οντολογιών είναι το γεγονός
ότι μας επιτρέπουν να παράγουμε νέα γνώση αυτόματα
με τους λεγόμενους
\eng{reasoners
	\footnote{https://en.wikipedia.org/wiki/Semantic\_reasoner}},
μια κατηγορία λογισμικού
που βρίσκει τις λογικές συνέπειες των αξιωμάτων μιας οντολογίας.
Είναι προφανές ότι για να φέρει πρακτική αξία, η διαδικασία αυτή
πρέπει να τερματίζει πάντοτε και σε πολυωνυμικό χρόνο.
Κάτι τέτοιο είναι εφικτό αν περιοριστούμε σε ένα υποσύνολο της
Πρωτοβάθμιας Λογικής, γνωστό ως Περιγραφική Λογική.

Στο κεφάλαιο αυτό θα παρουσιαστεί η Περιγραφική Λογική
$\mathcal{SROIQ}$ και η γλώσσα \eng{OWL (Web Ontology Language)},
η οποία αποτελεί την πρόταση του
\eng{W3C (World Wide Web Consortium)} για τη δημιουργία οντολογιών.

\section{Περιγραφική Λογική}

\quad Η Περιγραφική Λογική είναι ένας φορμαλισμός αναπαράστασης
της γνώσης
με κυριότερο χαρακτηριστικό το γεγονός ότι τα προβλήματα λογικής
συνεπαγωγής που μπορούμε να εκφράσουμε σε αυτήν είναι αποφάνσιμα.
Δεν πρόκειται για μια κλειστή γλώσσα αλλά για μια συλλογή "διαλέκτων"
με διαφορετικές εκφραστικές δυνατότητες οι οποίες μπορούν να συνθέσουν
μια γλώσσα με τα επιθυμητά χαρακτηριστικά.
Η γλώσσα \eng{OWL} βασίζεται στην Περιγραφική Λογική $\mathcal{SROIQ}$
της οποίας τα βασικά στοιχεία παρουσιάζονται στη συνέχεια.

\begin{definition}
	Ορίζουμε τα εξής, ξένα μεταξύ τους, σύνολα:

	\begin{itemize}
		\item Το σύνολο $N_I$ των ονομάτων ατόμων που συμβολίζουν
		      οντότητες.
		\item Το σύνολο $N_C$ των ονομάτων εννοιών που αναφέρονται
		      σε κλάσεις οντοτήτων.
		\item Το σύνολο $N_R$ των ονομάτων ιδιοτήτων, δηλαδή των
		      διμελών σχέσεων μεταξύ ατόμων ή κλάσεων.
	\end{itemize}

	Το σύνολο $\{ N_I, N_C, N_R \}$ ονομάζεται λεξιλόγιο.

\end{definition}

Έχοντας στη διάθεσή μας ένα λεξιλόγιο, μπορούμε να προχωρήσουμε
στον ορισμό των εννοιών \eng{RBox, TBox} και \eng{ABox} μιας βάσης
γνώσης που προκύπτει από μια Περιγραφική Λογική.

\subsection{\eng{RBox}}

Ένα \eng{RBox} είναι ένα σύνολο που περιγράφει το πως συνδέονται οι
ιδιότητες που έχουμε ορίσει. Για τον τυπικό του ορισμό θα χρειαστούμε
κάποια προαπαιτούμενα.

\begin{definition}
	Ορίζουμε ως ιδιότητα:
	\begin{itemize}
		\item την καθολική ιδιότητα $u$, δηλαδή την διμελή σχέση
		      που συνδέει οποιαδήποτε δυο άτομα
		\item κάθε στοιχείο $r,r^-\in N_R$, όπου με $r^-$
		      συμβολίζουμε την αντίστροφη μιας δοσμένης ιδιότητας
	\end{itemize}
\end{definition}

\begin{definition}
	Ένα αξίωμα εγκλεισμού ιδιότητας είναι μια δήλωση της μορφής\\
	$r_1 \circ r_2 ... \circ r_n \sqsubseteq r$, όπου τα
	$r_1, r_2, ... r_n, r$ είναι ιδιότητες και με $\circ$ συμβολίζουμε
	την σύνθεση. Στην περίπτωση όπου $n=1$ έχουμε απλό εγκλεισμό
	ιδιότητας, δηλαδή $r \sqsubseteq s$.
\end{definition}

Ένα απλό παράδειγμα τέτοιου εγκλεισμού είναι το εξής:
\begin{center}
	\eng{fatherOf} $\sqsubseteq$ \eng{childOf}$^-$
\end{center}
Δηλαδή η αντίστροφη της ιδιότητας \eng{childOf} (η ιδιότητα του γονέα)
συμπεριλαμβάνει την ιδιότητα του πατέρα.

\begin{definition}
	Ένα πεπερασμένο σύνολο από αξιώματα εγκλεισμού ιδιοτήτων
	ονομάζεται ιεραρχία ιδιοτήτων.
\end{definition}

\begin{definition}
	Ένα χαρακτηριστικό ιδιότητας είναι μια δήλωση της μορφής:
	\begin{itemize}
		\item \eng{Ref(r)}, για ανακλαστικές σχέσεις
		\item \eng{Asy(r)}, για μη συμμετρικές σχέσεις
		\item \eng{Dis(r,s)}, για ξένες μεταξύ τους σχέσεις
	\end{itemize}

	Συγκεκριμένα, η \eng{Dis(r,s)} ισχύει αν για κάθε ζεύγος
	ατόμων που ισχύει η \eng{r} δεν ισχύει η \eng{s}.
\end{definition}

\begin{definition}
	Ένα \eng{RBox} $\mathcal{R}$ είναι η ένωση μιας ιεραρχίας ιδιοτήτων
	και πεπερασμένων χαρακτηριστικών ιδιοτήτων.
\end{definition}

\subsection{\eng{TBox}}

Για τον τυπικό ορισμό ενός \eng{TBox} θα χρειαστούμε τους παρακάτω
ορισμούς.

\begin{definition}
	Ορίζουμε ως έννοιες (εννοώντας τις κλάσεις οντοτήτων):

	\begin{itemize}
		\item κάθε όνομα $C \in N_C$
		\item τα σύμβολα $\bot, \top$ για την κενή έννοια (δηλαδή
		      την κλάση που δεν έχει κανένα στιγμιότυπο) και την καθολική
		      έννοια (δηλαδή την έννοια που περιλαμβάνει όλες τις άλλες),
		      αντίστοιχα
		\item κάθε έκφραση της μορφής $\{a_1, a_2,...,a_n\}$ όπου
		      $\{a_i\}\subseteq N_I$ (ονομαστικές έννοιες)
	\end{itemize}

	Επιπλέον,

	\begin{itemize}
		\item αν $C,D$ είναι έννοιες, τότε είναι και οι
		      $\lnot C$ (άρνηση), $C \sqcap D$ (τομή) και
		      $C \sqcup D$ (ένωση)

		\item αν $r$ είναι μια ιδιότητα και $C$ μια έννοια, τότε
		      οι $\exists r.C$ (υπαρξιακή ποσοτικοποίηση) και
		      $\forall r.C$ (καθολική ποσοτικοποίηση) είναι επίσης έννοιες

		\item αν $r$ είναι μια ιδιότητα, $n\in \mathbf{N}$ και $C$
		      μια έννοια, τότε οι εκφράσεις $\exists r.\text{\eng{Self}}$
		      (περιορισμός σε αυτοαναφορικές σχέσεις),
		      $\geq nr.C$ (ελάχιστος περιορισμός) και
		      $\leq nr.C$ (μέγιστος περιορισμός) είναι επίσης έννοιες
	\end{itemize}

\end{definition}

\begin{definition}
	Ορίζουμε $\mathbb{C}$ να είναι το σύνολο όλων των εννοιών που προέρχονται
	από ένα σύνολο ονομάτων εννοιών $N_C$.
\end{definition}

\begin{definition}
	Έστω $C,D\in \mathbb{C}$. Η έκφραση $C\sqsubseteq D$ ονομάζεται αξίωμα
	εγκλεισμού έννοιας και σημαίνει ότι η έννοια $D$ συμπεριλαμβάνει την
	έννοια $C$.
\end{definition}

Μπορούμε έτσι να δώσουμε τον ορισμό του \eng{TBox}.

\begin{definition}
	Έστω $\mathcal{T}$ ένα πεπερασμένο σύνολο αξιωμάτων εγκλεισμού
	εννοιών. Το $\mathcal{T}$ ονομάζεται \eng{TBox} της $\mathcal{SROIQ}$.
\end{definition}

\subsection{\eng{ABox}}

Μέσω των \eng{RBox} και \eng{TBox} μπορούμε να εκφράσουμε χαρακτηριστικά
των ιδιοτήτων και των κλάσεων αντίστοιχα. Για τα χαρακτηριστικά ατόμων θα
χρειαστούμε του ακόλουθους ορισμούς.

\begin{definition}
	Έστω $a$ ένα άτομο και $C$ μια έννοια. Τότε με $C(a)$ θα συμβολίζουμε
	έναν εννοιολογικό ισχυρισμό, δηλαδή το γεγονός ότι το άτομο $a$ είναι
	στιγμιότυπο της έννοιας $C$.
\end{definition}

\begin{definition}
	Έστω $a,b$ άτομα και $r$ μια ιδιότητα. Τότε με $r(a,b)$ θα συμβολίζουμε
	τον ισχυρισμό ιδιότητας, δηλαδή το γεγονός ότι το άτομο $a$ συνδέεται
	με το άτομο $b$ μέσω της σχέσης $r$. Αντίστοιχα, με $\lnot r(a,b)$ θα
	συμβολίζουμε την άρνηση της $r$.
\end{definition}

\begin{definition}
	Έστω $a,b$ άτομα. Τότε με $a \approx b$ θα συμβολίζουμε τον ισχυρισμό
	ατομικής ισότητας, δηλαδή το γεγονός ότι δυο ονόματα αφορούν την ίδια
	οντότητα.
\end{definition}

\begin{remark}
	Η ατομική ισότητα μπορεί να φανεί χρήσιμη όταν συνδυάζουμε γνώση για
	ένα πεδίο ενδιαφέροντος από διαφορετικές πηγές. Αν γαι παράδειγμα
	συνδυάζαμε δυο οντολογίες για τα ζώα της Αφρικής και στη μια
	συναντούσαμε το είδος \eng{Acinonyx jubatus} ενώ στην άλλη το είδος
	\eng{Acinonyx venator} θα ίσχυε ότι
	\eng{Acinonyx venator} $\approx$ \eng{Acinonyx jubatus} καθώς και τα
	δυο αποτελούν ονόματα του τσιτάχ.
\end{remark}

Οι παραπάνω ορισμοί συνθέτουν τους λεγόμενους ατομικούς ισχυρισμούς.
Βάσει αυτών, μπορούμε να δώσουμε και τον ορισμό του \eng{ABox}.

\begin{definition}
	Ένα πεπερασμένο σύνολο $\mathcal{A}$ από ατομικούς ισχυρισμούς
	ονομάζεται \eng{ABox}. Επιπλέον, το $\mathcal{A}$ ονομάζεται
	εκτατικά ανηγμένο αν περιέχει μόνο ονόματα εννοιών και ονόματα
	ιδιοτήτων.
\end{definition}

\subsection{Βάσεις Γνώσης}

Έχοντας καλύψει όλα τα δομικά χαρακτηριστικά της γλώσσας
$\mathcal{SROIQ}$ μπορούμε να ορίσουμε τις βάσεις γνώσης που
μπορούμε να κατασκευάσουμε.

\begin{definition}
	Μια $\mathcal{SROIQ}$ βάση γνώσης $\mathcal{KB}$ αποτελεί την ένωση ενός
	ενός \eng{RBox} $\mathcal{R}$, ενός
	ενός \eng{TBox} $\mathcal{T}$ και ενός
	ενός \eng{ABox} $\mathcal{A}$. Τα στοιχεία της βάσης γνώσης
	ονομάζονται αξιώματα. Ακόμα, συμβολίζουμε με
	$N_I(\mathcal{KB}),N_C(\mathcal{KB})$ και $N_R(\mathcal{KB})$
	τα ονόματα ατόμων, εννοιών και ιδιοτήτων της $\mathcal{KB}$,
	αντίστοιχα.
\end{definition}

Ένα απλό παράδειγμα μιας $\mathcal{SROIQ}$ βάσης γνώσης είναι το
εξής.

\begin{example} Έστω η βάση γνώσης $\mathcal{KB}$:

	\eng{RBox} $\mathcal{R}$
	\begin{itemize}
		\item \eng{owns} $\sqsubseteq$ \eng{caresFor}
		      $\Rightarrow$
		      \eng{"If somebody owns something, they care for it."}
	\end{itemize}

	\eng{TBox} $\mathcal{T}$
	\begin{itemize}
		\item \eng{Healthy} $\sqsubseteq$ $\lnot$\eng{Dead} $\Rightarrow$
		      \eng{"Healthy beings are not dead."}
		      % 
		\item \eng{Cat} $\sqsubseteq$ \eng{Alive} $\sqcup$ \eng{Dead}
		      $\Rightarrow$ \eng{"Every cat is dead or alive."}
		      % 
		\item \eng{HappyCatOwner} $\sqsubseteq$
		      $\exists$\eng{owns.Cat} $\sqcap\ \forall$\eng{caresFor.Healthy}
		      $\Rightarrow$ \eng{"A happy cat owner owns a cat and
			      all beings he cares for are healthy."}
	\end{itemize}

	\eng{ABox} $\mathcal{A}$
	\begin{itemize}
		\item \eng{HappyCatOwner(schr\"odinger)} $\Rightarrow$
		      \eng{"Schr\"odinger is happy cat owner."}
	\end{itemize}

\end{example}


\section{Η δομή μιας οντολογίας}

\quad Ανεξάρτητα από το πεδίο εφαρμογής και την γλώσσα που επιλέγεται,
όλες οι οντολογίες μοιράζονται κάποια βασικά μέρη. Αυτό αποτελεί
απόρροια της στενής σχέσης οντολογιών και Περιγραφικής Λογικής, από
την οποία αντλούνται αυτούσιοι οι μηχανισμοί περιγραφής ιδιοτήτων.
Οι όποιες διαφορές και προσθήκες στις οντολογίες απλά εξασφαλίζουν
την προσβασιμότητα από μηχανές. Στη συνέχεια παρουσιάζονται τα
άτομα, οι κλάσεις και οι σχέσεις, αναπόσπαστα κομμάτια κάθε οντολογίας.

\subsection{’τομα}

\quad Με τον όρο \emph{άτομα} εννοούμε οποιαδήποτε οντότητα θέλουμε να
συμπεριλάβουμε στην περιγραφή μας, όπως για παράδειγμα ''Γιάννης'',
''ρολόι'' ή ''Αθήνα''. Τα άτομα μιας οντολογίας αντιστοιχίζονται
στο σύνολο $N_I$ των ονομάτων ατόμων της Περιγραφικής Λογικής.
Τα άτομα χρησιμεύουν ως ''ετικέτες'' που ξεχωρίζουν τα αντικείμενα
και δεν επηρεάζουν την λογική δομή μιας οντολογίας.

Συχνά όμως
διαφορετικά άτομα μπορεί να αντιστοιχίζονται στην ίδια οντότητα του
πραγματικού κόσμου, χωρίς να γνωρίζουμε την αντιστοιχία αυτή. Αυτός
είναι και ο λόγος που στις οντολογίες υιοθετούμε την υπόθεση του
''ανοικτού σύμπαντος''\footnote{\eng{
		https://en.wikipedia.org/wiki/Open-world\_assumption
	}},
όπου μια δήλωση μπορεί να είναι αληθής ακόμα και αν δεν το
γνωρίζουμε. Αντίθετα, η υπόθεση του ''κλειστού σύμπαντος'' συνεπάγεται
ότι έχουμε πλήρη γνώση κάθε αληθούς δήλωσης άρα κάθε άλλη δήλωση
είναι λανθασμένη. Η υπόθεση του ανοικτού σύμπαντος είναι θεμελιώδης
για τις οντολογίες καθώς χωρίς αυτή θα ήταν αδύνατο να εξάγουμε νέα
γνώση. Εκτός αυτού, εκφράζει το γεγονός ότι οι οντολογίες συχνά
χρησιμοποιούνται για την περιγραφή ενός διαρκώς μεταβαλλόμενου
πεδίου γνώσης όπου είναι αδύνατο να έχουμε πλήρη εποπτεία.

\subsection{Κλάσεις}

\quad Οι κλάσεις αποτελούν συλλογές αντικειμένων. Οι συλλογές αυτές
προκύπτουν είτε μέσα από την απαρίθμηση των μελών τους (δηλαδή μέσω
ενός \emph{εκτατικού} ορισμού)
είτε μέσα από κάποιες ιδιότητες που οφείλουν
να έχουν τα μέλη μιας κλάσης (δηλαδή μέσω ενός \emph{εντατικού} ορισμού)
Οι κλάσεις αντιστοιχίζονται στο σύνολο $N_C$ των ονομάτων εννοιών
της Περιγραφικής Λογικής. Ακόμα, οι κλάσεις μας επιτρέπουν τη
δημιουργία ιεραρχικών δομών μέσα από εγκλεισμούς, αποτελώντας μια
επέκταση των δυνατοτήτων που συναντάμε στην γλώσσα \eng{RDFS}.
Στις οντολογίες η έννοια της κλάσης αντιμετωπίζεται όπως
και στις ταξινομίες (βλ.παράδειγμα \ref{rdfs:example}).
Mια κλάση δηλαδή δεν ορίζεται από τις ιδιότητες των
στιγμιοτύπων της αλλά οι ιδιότητες είναι αυτές που ορίζονται
με βάση τις κλάσεις που αφορούν.

\subsection{Σχέσεις}

\quad Με τον όρο σχέσεις εννοούμε τις διμελείς σχέσεις μεταξύ
οντοτήτων, στις οποίες αποδίδουν ιδιότητες. Οι σχέσεις σε
μια οντολογία είναι το αντίστοιχο του συνόλου $N_R$ των
ονομάτων ιδιοτήτων στην Περιγραφική Λογική. Όμοια με τις ιεραρχίες
κλάσεων, μπορούμε να κατασκευάσουμε ιεραρχίες ιδιοτήτων. Επιπλέον
μπορούμε να προσδώσουμε στις σχέσεις αυτές τυπικά χαρακτηριστικά
των διμελών σχέσεων όπως συμμετρία ή ανακλαστικότητα αλλά και να
εισάγουμε καθολικούς ή υπαρξιακούς περιορισμούς στο πως συνδέονται
τα μέλη μιας σχέσης. Τέλος, σημειώνεται ότι η ανακλαστικότητα
αποτελεί το μέσο για να ορίσουμε αυτοαναφορικές ιδιότητες,
περιοριζόμενη όμως από τους κανόνες της Περιγραφικής Λογικής.

\section{Η γλώσσα \eng{OWL2}}

\quad Η γλώσσα \eng{OWL} αποτελεί το πιο διαδεδομένο εργαλείο
για την κατασκευή οντολογιών. Βασίζεται στα κατώτερα στρώματα
των Εννοιολογικών Τεχνολογιών (\eng{URI, XML} και \eng{RDFS},
βλ. σχήμα \ref{fig:semanticlayers}) για τον καθορισμό της
συντακτικής της δομής ενώ η Περιγραφική Λογική δίνει στη γλώσσα
την τυπική σημασιολογία και τους κανόνες συνεπαγωγής. Από το
2009 η δεύτερη έκδοση της \eng{OWL}, γνωστή και ως \eng{OWL2},
είναι διαθέσιμη. Η έκδοση αυτή βασίζεται στην Περιγραφική
Λογική $\mathcal{SROIQ}$ και φέρει τη μέγιστη δυνατή
εκφραστικότητα διατηρώντας την
πολυωνυμική πολυπλοκότητα και την αποφανσιμότητα.
Στη συνέχεια παρουσιάζονται τα δομικά στοιχεία της \eng{OWL2}.

\subsection{Κλάσεις στην \eng{OWL2}}

\quad Οι κλάσεις στην \eng{OWL2} ακολουθούν τη λογική της \eng{RDFS}
δίνοντας τη δυνατότητα οργάνωσης μέσω υποκλάσεων και δηλώνοντας
τις συλλογές ατόμων με κοινά χαρακτηριστικά. Τα άτομα μπορούν να
ανήκουν ταυτόχρονα σε πολλές διαφορετικές κλάσεις. Μπορούμε να
δηλώσουμε τις κλάσεις στις οποίες ανήκει ένα άτομο μέσα από
περιγραφές της μορφής:
\eng{ \lstinputlisting[numbers=none]{chapter3/owl2_class.xml} }

Στην περίπτωση που θέλουμε να δηλώσουμε την υποκλάση μιας
δοσμένης κλάσης χρησιμοποιούμε μια περιγραφή της μορφής:
\eng{ \lstinputlisting[numbers=none]{chapter3/owl2_subclass.xml} }

\begin{example}
	\label{owl2:classes}
	Έστω ότι θέλουμε να δώσουμε μια περιγραφή σε \eng{OWL2}
	για το άτομο με το όνομα \eng{''Mary''}. Θα μπορούσαμε αρχικά
	να δηλώσουμε ότι ανήκει στις κλάσεις \eng{''Person''} και
	\eng{''Woman''}:

	% Concerning \centering its advisable to limit its
	% scope by grouping. Inside a figure or table environment
	% its already limited, but inside normal text you should
	% use curly braces or \begingroup\centering  \endgroup:
	% {\centering Text

	% }
	% As you can see I set an empty line before closing
	% the centered group. If I do not end the paragraph
	% by a paragraph break or the line by \\ then the following
	% text outside the group will be centered too.
	{\centering
	\inline{<Person rdf:about="Mary"/>}\\
	\inline{<Woman rdf:about="Mary"/>}

	}
	Μπορούμε ακόμα να διατυπώσουμε τη σχέση που συνδέει αυτές
	τις κλάσεις μέσα από την δήλωση:
	\eng{\lstinputlisting[numbers=none]{chapter3/woman_subclass.xml}}
	% 
	Μια τέτοια δήλωση επιτρέπει σε έναν \eng{reasoner} να εξάγει το
	συμπέρασμα ότι κάθε άτομο που ανήκει στην κλάση \eng{''Woman''}
	ανήκει και στην κλάση \eng{''Person''}.
\end{example}

\subsection{Μεταβατικότητα και ανακλαστικότητα}

\quad Μέσα από τον ορισμό υποκλάσεων μπορούμε να δημιουργούμε αλυσίδες
που ξεκινούν από μια ειδική έννοια καταλήγοντας σε μια γενικότερη.
Αυτό οφείλεται στην \emph{μεταβατικότητα} των υποκλάσεων.
Επεκτείνοντας το παράδειγμα \ref{owl2:classes}, η δήλωση
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_subclass_chain.xml}}
σημαίνει ότι ένα άτομο που ανήκει στην κλάση \eng{''Mother''},
ανήκει στην κλάση \eng{''Person''}.

Μια ακόμα ιδιότητα των υποκλάσεων είναι η \emph{ανακλαστικότητα},
δηλαδή το ότι κάθε κλάση αποτελεί υποκλάση του εαυτού της. Αυτό
μπορεί να αιτιολογηθεί εύκολα αν σκεφτούμε τις κλάσεις σαν σύνολα και
συνεπώς κάθε σύνολο ως υποσύνολο του εαυτού του.

Στις περιγραφές μας μπορεί συχνά να χρειαστεί να ορίσουμε διαφορετικές
κλάσεις με τα ίδια όμως μέλη. Αυτό αντικατοπτρίζει το γεγονός ότι μια
έννοια μπορεί να είναι γνωστή με διαφορετικά ονόματα. Αυτού του είδους
τη σημασιολογική ισότητα μπορούμε να την δείξουμε μέσα από μια δήλωση
της μορφής
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_class_equiv.xml}}
και ένα απλό παράδειγμα εφαρμογής της είναι η ισοδυναμία των κλάσεων
\eng{''Person''} και \eng{''Human''} :
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_PersonIsHuman.xml}}

\begin{remark}
	Μπορούμε να δούμε την ισότητα κλάσεων ως ισότητα συνόλων. Έτσι η
	προηγούμενη δήλωση γίνεται ισοδύναμη με το ζεύγος δηλώσεων:
	\eng{\lstinputlisting[numbers=none]{chapter3/owl2_class_equiv2.xml}}
\end{remark}

\subsection{Ξένες κλάσεις}

\quad Υπάρχουν περιπτώσεις όπου ένα άτομο είναι αδύνατο να ανήκει
ταυτόχρονα σε δυο δοσμένες κλάσεις. Μπορούμε να καθορίσουμε κλάσεις
που είναι ξένες μεταξύ τους μέσα από μια δήλωση της μορφής:
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_disjointness.xml}}
Πρέπει να σημειωθεί ότι μια τέτοια δήλωση μας δίνει πληροφορίες και
για τις υποκλάσεις που σχετίζονται με τις δοσμένες κλάσεις.
Για παράδειγμα, η δήλωση
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_disjoint_classes.xml}}
σημαίνει επιπλέον ότι και οι κλάσεις \eng{''Mother''} και \eng{''Man''}
είναι ξένες μεταξύ τους.

\subsection{Ορισμός κλάσεων μέσω απαρίθμησης}

\quad Η \eng{OWL2} διαθέτει τη δυνατότητα ορισμού των λεγόμενων
\emph{κλειστών κλάσεων}, οι οποίες προκύπτουν από την απαρίθμηση
των μελών τους. Οι κλάσεις αυτές έχουν τη μορφή:
\eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_enum.xml}}

\begin{remark}
	Μια σημαντική ιδιότητα των κλειστών κλάσεων είναι η μη
	επεκτασιμότητά τους. Αυτό συνεπάγεται ότι κάθε νέο στιγμιότυπο
	της κλάσης ανάγεται σε κάποιο από τα στοιχεία που συνθέτουν την
	κλάση. Για παράδειγμα, στην περίπτωση της κλάσης
	\eng{\lstinputlisting[numbers=none,tabsize=1]{
			chapter3/owl2_enum_example.xml
		}}
	αν δηλώσουμε ότι το άτομο \eng{''Bob''} είναι μέλος της κλάσης
	\eng{''MyBirthdayGuests''} τότε αναγκαστικά
	\eng{''Bob'' $\approx$''Bill'', ''Bob'' $\approx$''John''}
	ή \eng{''Bob'' $\approx$''Mary''}.
\end{remark}

\subsection{Σχέσεις στην \eng{OWL2}}

\quad Η περιγραφή σχέσεων μεταξύ ατόμων βασίζεται στην ίδια σύνταξη
που χρησιμοποιεί το μοντέλο \eng{RDF} και έχει τη μορφή:
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_props_form.xml}}
% 
Μια επιπλέον δυνατότητα της \eng{OWL2} είναι η δήλωση ότι δύο άτομα
\emph{δεν} συνδέονται από μια δοσμένη ιδιότητα:
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_negative_prop.xml}}
% 
Δηλώσεις αυτού του τύπου είναι σημαντικές σε μια οντολογία καθώς
η υπόθεση του ανοικτού σύμπαντος σημαίνει ότι οποιαδήποτε δήλωση
μπορεί να είναι αληθής, ακόμα και κάτι που δεν γνωρίζουμε. Επομένως
πρέπει να δηλώσουμε ρητά ότι μια πρόταση είναι ψευδής προκειμένου
να μην ισχύει.

Όμοια με τις υποκλάσεις, μπορούμε να ορίσουμε και
υπο-ιδιότητες. Οι δηλώσεις αυτές έχουν τη μορφή:
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_subproperties.xml}}
Μπορούμε ακόμα να ορίσουμε τα πεδία ορισμόυ και τιμών μιας ιδιότητας:
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_domain_range.xml}}

\begin{remark}
	Τα πεδία ορισμού και τιμών είναι εντελώς όμοια με τις αντίστοιχες
	έννοιες στην \eng{RDFS}, με κάποιες προσθήκες που υποδηλώνουν
	ότι χρησιμοποιούνται εντός μιας οντολογίας. Με τον τρόπο αυτό
	ένας \eng{reasoner} μπορεί να συμπεράνει μέσα από μια ιδιότητα
	τις κλάσεις των ατόμων που σχετίζει αυτή.
\end{remark}

\subsection{Σχέσεις ατόμων - δεδομένων}

\quad Μέχρι στιγμής έχουμε δει παραδείγματα για το πως μπορούμε να
συνδέσουμε μεταξύ τους άτομα. Μπορούμε όμως να συνδέσουμε και ένα
άτομο με κάποια συγκεκριμένη τιμή. Οι τύποι δεδομένων που μπορούμε
να χρησιμοποιήσουμε προέρχονται από την γλώσσα
\eng{XML Schema\footnote{https://www.w3.org/TR/xmlschema11-2/}} ενώ
δηλώσεις αυτού του τύπου έχουν τη μορφή:
\eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_datatype.xml}}
όπου \eng{prefix} είναι το σταθερό πρόθεμα
\eng{"http://www.w3.org/2001/XMLSchema\#"}. Ο συνδυασμός προθέματος
και τύπου δεδομένων μας δίνει ένα \eng{URI} από μια προκαθορισμένη
λίστα τύπων. Ένα προφανές παράδειγμα εφαρμογής αυτής της δυνατότητας
είναι η αντιστοίχιση ενός ατόμου σε έναν ακέραιο αριθμό
(εν προκειμένω, η ηλικία του):
\eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_age_example.xml}}

\subsection{Ισότητα ατόμων}

\quad Έχουμε κάνει ήδη λόγο για την υπόθεση του ανοικτού σύμπαντος
στις οντολογίες, ως αναγκαία για την μοντελοποίηση ενός πεδίου
ενδιαφέροντος όπου η γνώση μας μπορεί να είναι αποσπασματική. Μια
ακόμα χρήσιμη υπόθεση στις οντολογίες (ή για την ακρίβεια η αντίστροφή
της) είναι αυτή των \emph{μοναδικών ονομάτων}. Υποθέτοντας ότι η
αντιστοιχία ανάμεσα στο σύνολο ονομάτων ατόμων και τις οντότητες που
περιγράφουν είναι 1:1 μας εμποδίζει να περιγράφουμε την ίδια έννοια
με διαφορετικά ονόματα. Η ανάγκη για κάτι τέτοιο όμως συναντάται
πολύ συχνά σε πραγματικές εφαρμογές που συνδυάζουν δεδομένα από
διαφορετικές πηγές.

Προκειμένου να αντιμετωπιστεί η ύπαρξη διαφορετικών ονομάτων για
το ίδιο άτομο, μπορούμε να κατασκευάσουμε δηλώσεις της μορφής:
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_sameAs.xml}}
ενώ με όμοιο τρόπο μπορούμε να δηλώσουμε ότι δυο ονόματα αναφέρονται
σε διαφορετικά άτομα:
\eng{\lstinputlisting[numbers=none]{chapter3/owl2_diff.xml}}

\subsection{Ενώσεις, τομές και συμπληρώματα}

\quad Στην \eng{OWL2} έχουμε τη δυνατότητα να ορίσουμε κλάσεις
και ιδιότητες που βασίζονται σε υπάρχουσες δηλώσεις, τις οποίες
μπορούμε να συνδυάσουμε με εργαλεία της θεωρίας συνόλων όπως
την τομή, την ένωση και το συμπλήρωμα δοσμένων κλάσεων. Δηλώσεις
αυτού του τύπου έχουν τις εξής μορφές:
\begin{itemize}
	\item Τομή
	      \eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_intersection.xml}}
	\item Ένωση
	      \eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_union.xml}}
	\item Συμπλήρωμα
	      \eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_complement.xml}}
\end{itemize}
Οι παραπάνω τελεστές δεν χρησιμοποιούνται μόνο ξεχωριστά αλλά
και σε εμφωλευμένη μορφή. Για παράδειγμα,
η κλάση \eng{''ChildlessPerson''} μπορεί να οριστεί
μέσω των \eng{''Person''} και \eng{''Parent''}:
\eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_complex_class.xml}}

\subsection{Υπαρξιακοί και καθολικοί περιορισμοί}

\quad Οι υπαρξιακοί και οι καθολικοί περιορισμοί ιδιοτήτων
χρησιμοποιούνται στις οντολογίες με τρόπο ανάλογο με αυτό
των ποσοδεικτών στις λογικές προτάσεις. Η πρώτη περίπτωση είναι
αυτή της \emph{υπαρξιακής ποσοτικοποίησης}, μέσω της οποίας ορίζουμε
μια κλάση ως ένα σύνολο ατόμων με την εξής ιδιότητα: κάθε άτομο
της κλάσης συνδέεται με τουλάχιστον ένα άτομο μιας δοσμένης
κλάσης (διαφορετικής ή μη) μέσω της ιδιότητας για την οποία
εφαρμόζουμε τον περιορισμό. Η υπαρξιακή ποσοτικοποίηση γίνεται
μέσω δηλώσεων της μορφής:
\eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_existential_restr.xml}}

Στην περίπτωση της \emph{καθολικής ποσοτικοποίησης}, ορίζουμε
κλάσεις με παρόμοιο τρόπο αλλά η απαίτηση για ένα τουλάχιστον
άτομο μιας δοσμένης κλάσης μετατρέπεται στην απαίτηση όλα τα άτομα
να ανήκουν σε μια συγκεκριμένη κλάση. Η καθολική ποσοτικοποίηση γίνεται
μέσω δηλώσεων της μορφής:
\eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_universal_restr.xml}}

Εκτός από την υπαρξιακή και την καθολική ποσοτικοποίηση, μπορούμε
να καθορίσουμε και το πλήθος ατόμων που σχετίζονται μέσω
μιας σχέσης με ένα υποκείμενο. Συγκεκριμένα, μπορούμε να ορίσουμε
το μέγιστο ή το ελάχιστο επιτρεπόμενο πλήθος ατόμων αλλά και τον
ακριβή αριθμό μέσω δηλώσεων της μορφής:
\eng{\lstinputlisting[numbers=none,tabsize=1]{chapter3/owl2_cardinality.xml}}
όπου το πεδίο \eng{"cardinality restriction"} αντιστοιχεί σε μια
από τις τιμές:
\begin{itemize}
	\item	\eng{maxQualifiedCardinality}, για τον προσδιορισμό μέγιστου πλήθους
	\item	\eng{minQualifiedCardinality}, για τον προσδιορισμό ελάχιστου πλήθους
	\item	\eng{qualifiedCardinality}, για τον προσδιορισμό ακριβούς πλήθους
\end{itemize}

\subsection{Χαρακτηριστικά σχέσεων}

\quad Οι σχέσεις που ορίζουμε στην \eng{OWL2} μπορούν να εμπλουτιστούν
με διάφορα χαρακτηριστικά που προέρχονται απευθείας από την
$\mathcal{SROIQ}$ και φανερώνουν τις δυνατότητες λεπτομερούς
περιγραφής στις οντολογίες. Παραθέτουμε μια λίστα των χαρακτηριστικών
αυτών συνοδευόμενα από τις αντίστοιχες δηλώσεις:
\begin{itemize}
	\item αντίστροφη μιας δοσμένης σχέσης
	      \eng{\lstinputlisting[numbers=none]{chapter3/owl2_inverses.xml}}
	\item συμμετρική σχέση αν το Α συνδέεται με το Β, τότε και το Β
	      συνδέεται με το Α)
	      \eng{\lstinputlisting[numbers=none]{chapter3/owl2_symmetric.xml}}
	\item αντισυμμετρική σχέση (αν το Α συνδέεται με το Β, τότε το Β
	      δεν συνδέεται με το Α)
	      \eng{\lstinputlisting[numbers=none]{chapter3/owl2_asymmetric.xml}}
	\item ξένες σχέσεις (δυο άτομα δεν μπορούν να συνδέονται από
	      τις δυο σχέσεις ταυτόχρονα)
	      \eng{\lstinputlisting[numbers=none]{chapter3/owl2_disjoint_prop.xml}}
	\item ανακλαστική σχέση (το υποκείμενο και το αντικείμενο μιας
	      σχέσης μπορεί να είναι το ίδιο άτομο)
	      \eng{\lstinputlisting[numbers=none]{chapter3/owl2_reflexive_prop.xml}}
	\item μη ανακλαστική σχέση (το υποκείμενο και το αντικείμενο μιας
	      σχέσης δεν μπορεί να είναι το ίδιο άτομο)
	      \eng{\lstinputlisting[numbers=none]{chapter3/owl2_irreflexive_prop.xml}}
	\item μεταβατική σχέση (αν το Α συνδέεται με το Β και το Β με το Γ,
	      τότε και το Α συνδέεται με το Γ)
	      \eng{\lstinputlisting[numbers=none]{chapter3/owl2_transitive_prop.xml}}
\end{itemize}

\section{Μια οντολογία για φωτογραφικές μηχανές}

\quad Με μια ολοκληρωμένη οντολογία είναι δυνατή η καλύτερη
κατανόηση του πως μπορούμε να συνταιριάξουμε τα εργαλεία
της γλώσσας \eng{OWL2} για τις περιγραφές μας. Στη συνέχεια παρουσιάζεται
μια περιγραφή διάφορων ειδών φωτογραφικών μηχανών, αρχικά μέσα από ένα
κατάλληλο διάγραμμα και ύστερα σε τυπική σύνταξη \eng{RDF/XML}.

\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{thesisfig/ontology.eps}
	\caption{Πλήρης απλή οντολογία}
	\label{fig:cam_onto}
\end{figure}

\eng{
	\lstinputlisting[numbers=none,tabsize=1]{
		chapter3/camera_ontology_outline.owl}
}

\eng{\lstinputlisting[numbers=none,tabsize=1]{
		chapter3/camera_ontology_classes.owl}
}

\eng{\lstinputlisting[numbers=none,tabsize=1]{
		chapter3/camera_ontology_datatype_props.owl}
}

\eng{\lstinputlisting[numbers=none,tabsize=1]{
		chapter3/camera_ontology_object_props.owl}
}
