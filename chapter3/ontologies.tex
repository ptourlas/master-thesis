\chapter{Οντολογίες}
\label{ontologies}

\quad Οι οντολογίες αποτελούν το εργαλείο με τις μεγαλύτερες
εκφραστικές δυνατότητες στις Εννοιολογικές Τεχνολογίες.
Σύμφωνα με τον \eng{Gruber}, μια οντολογία αποτελεί έναν
\emph{τυπικό και σαφή προσδιορισμό μιας κοινής σύλληψης}.
Από τον παραπάνω ορισμό μπορούμε να εξάγουμε τα κύρια χαρακτηριστικά
μιας οντολογίας:
\begin{itemize}
	\item Τυπικότητα, η οποία μας επιτρέπει να ορίζουμε έννοιες
	      με τρόπο που τις καθιστά επεξεργάσιμες από μηχανές. Επιπλέον
	      μας επιτρέπει να επιβεβαιώσουμε την εγκυρότητα μιας έκφρασης
	      αλγοριθμικά, βασιζόμενοι μόνο στη δομή της.

	\item Σαφήνεια, που σημαίνει ότι αποδίδουμε το επιθυμητό νόημα
	      χωρίς την ανάγκη για επιπλέον πληροφορίες.

	\item Κοινή σύλληψη, καθώς μια οντολογία έχει αξία εφόσον
	      περιγράφει έννοιες αποδεκτές από όλους τους χρήστες της.
\end{itemize}

Οι οντολογίες φέρουν ένα αυστηρό λογικό υπόβαθρο. Αυτό είναι
αναγκαίο προκειμένου να περιγράφουν ένα πεδίο ενδιαφέροντος
με ακρίβεια και να εξασφαλίζεται ότι οι αλγόριθμοι για τον
χειρισμό τους συμπεριφέρονται με προβλέψιμο και ενιαίο τρόπο.
Μια ακόμα σημαντική δυνατότητα των οντολογιών είναι το γεγονός
ότι μας επιτρέπουν να παράγουμε νέα γνώση αυτόματα
με τους λεγόμενους
\eng{reasoners
	\footnote{https://en.wikipedia.org/wiki/Semantic\_reasoner}},
μια κατηγορία λογισμικού
που βρίσκει τις λογικές συνέπειες των αξιωμάτων μιας οντολογίας.
Είναι προφανές ότι για να φέρει πρακτική αξία, η διαδικασία αυτή
πρέπει να τερματίζει πάντοτε και σε πολυωνυμικό χρόνο.
Κάτι τέτοιο είναι εφικτό αν περιοριστούμε σε ένα υποσύνολο της
Πρωτοβάθμιας Λογικής, γνωστό ως Περιγραφική Λογική.

Στο κεφάλαιο αυτό θα παρουσιαστεί η Περιγραφική Λογική
$\mathcal{SROIQ}$ και η γλώσσα \eng{OWL (Web Ontology Language)},
η οποία αποτελεί την πρόταση του
\eng{W3C (World Wide Web Consortium)} για τη δημιουργία οντολογιών.

\section{Περιγραφική Λογική}

\quad Η Περιγραφική Λογική είναι ένας φορμαλισμός αναπαράστασης
της γνώσης
με κυριότερο χαρακτηριστικό το γεγονός ότι τα προβλήματα λογικής
συνεπαγωγής που μπορούμε να εκφράσουμε σε αυτήν είναι αποφάνσιμα.
Δεν πρόκειται για μια κλειστή γλώσσα αλλά για μια συλλογή "διαλέκτων"
με διαφορετικές εκφραστικές δυνατότητες οι οποίες μπορούν να συνθέσουν
μια γλώσσα με τα επιθυμητά χαρακτηριστικά.
Η γλώσσα \eng{OWL} βασίζεται στην Περιγραφική Λογική $\mathcal{SROIQ}$
της οποίας τα βασικά στοιχεία παρουσιάζονται στη συνέχεια.

\begin{definition}
	Ορίζουμε τα εξής, ξένα μεταξύ τους, σύνολα:

	\begin{itemize}
		\item Το σύνολο $N_I$ των ονομάτων ατόμων που συμβολίζουν
		      οντότητες.
		\item Το σύνολο $N_C$ των ονομάτων εννοιών που αναφέρονται
		      σε κλάσεις οντοτήτων.
		\item Το σύνολο $N_R$ των ονομάτων ιδιοτήτων, δηλαδή των
		      διμελών σχέσεων μεταξύ ατόμων ή κλάσεων.
	\end{itemize}

	Το σύνολο $\{ N_I, N_C, N_R \}$ ονομάζεται λεξιλόγιο.

\end{definition}

Έχοντας στη διάθεσή μας ένα λεξιλόγιο, μπορούμε να προχωρήσουμε
στον ορισμό των εννοιών \eng{RBox, TBox} και \eng{ABox} μιας βάσης
γνώσης που προκύπτει από μια Περιγραφική Λογική.

\subsection{\eng{RBox}}

Ένα \eng{RBox} είναι ένα σύνολο που περιγράφει το πως συνδέονται οι
ιδιότητες που έχουμε ορίσει. Για τον τυπικό του ορισμό θα χρειαστούμε
κάποια προαπαιτούμενα.

\begin{definition}
	Ορίζουμε ως ιδιότητα:
	\begin{itemize}
		\item την καθολική ιδιότητα $u$, δηλαδή την διμελή σχέση
		      που συνδέει οποιαδήποτε δυο άτομα
		\item κάθε στοιχείο $r,r^-\in N_R$, όπου με $r^-$
		      συμβολίζουμε την αντίστροφη μιας δοσμένης ιδιότητας
	\end{itemize}
\end{definition}

\begin{definition}
	Ένα αξίωμα εγκλεισμού ιδιότητας είναι μια δήλωση της μορφής\\
	$r_1 \circ r_2 ... \circ r_n \sqsubseteq r$, όπου τα
	$r_1, r_2, ... r_n, r$ είναι ιδιότητες και με $\circ$ συμβολίζουμε
	την σύνθεση. Στην περίπτωση όπου $n=1$ έχουμε απλό εγκλεισμό
	ιδιότητας, δηλαδή $r \sqsubseteq s$.
\end{definition}

Ένα απλό παράδειγμα τέτοιου εγκλεισμού είναι το εξής:
\begin{center}
	\eng{fatherOf} $\sqsubseteq$ \eng{childOf}$^-$
\end{center}
Δηλαδή η αντίστροφη της ιδιότητας \eng{childOf} (η ιδιότητα του γονέα)
συμπεριλαμβάνει την ιδιότητα του πατέρα.

\begin{definition}
	Ένα πεπερασμένο σύνολο από αξιώματα εγκλεισμού ιδιοτήτων
	ονομάζεται ιεραρχία ιδιοτήτων.
\end{definition}

\begin{definition}
	Ένα χαρακτηριστικό ιδιότητας είναι μια δήλωση της μορφής:
	\begin{itemize}
		\item \eng{Ref(r)}, για ανακλαστικές σχέσεις
		\item \eng{Asy(r)}, για μη συμμετρικές σχέσεις
		\item \eng{Dis(r,s)}, για ξένες μεταξύ τους σχέσεις
	\end{itemize}

	Συγκεκριμένα, η \eng{Dis(r,s)} ισχύει αν για κάθε ζεύγος
	ατόμων που ισχύει η \eng{r} δεν ισχύει η \eng{s}.
\end{definition}

\begin{definition}
	Ένα \eng{RBox} $\mathcal{R}$ είναι η ένωση μιας ιεραρχίας ιδιοτήτων
	και πεπερασμένων χαρακτηριστικών ιδιοτήτων.
\end{definition}

\subsection{\eng{TBox}}

Για τον τυπικό ορισμό ενός \eng{TBox} θα χρειαστούμε τους παρακάτω
ορισμούς.

\begin{definition}
	Ορίζουμε ως έννοιες (εννοώντας τις κλάσεις οντοτήτων):

	\begin{itemize}
		\item κάθε όνομα $C \in N_C$
		\item τα σύμβολα $\bot, \top$ για την κενή έννοια (δηλαδή
		      την κλάση που δεν έχει κανένα στιγμιότυπο) και την καθολική
		      έννοια (δηλαδή την έννοια που περιλαμβάνει όλες τις άλλες),
		      αντίστοιχα
		\item κάθε έκφραση της μορφής $\{a_1, a_2,...,a_n\}$ όπου
		      $\{a_i\}\subseteq N_I$ (ονομαστικές έννοιες)
	\end{itemize}

	Επιπλέον,

	\begin{itemize}
		\item αν $C,D$ είναι έννοιες, τότε είναι και οι
		      $\lnot C$ (άρνηση), $C \sqcap D$ (τομή) και
		      $C \sqcup D$ (ένωση)

		\item αν $r$ είναι μια ιδιότητα και $C$ μια έννοια, τότε
		      οι $\exists r.C$ (υπαρξιακή ποσοτικοποίηση) και
		      $\forall r.C$ (καθολική ποσοτικοποίηση) είναι επίσης έννοιες

		\item αν $r$ είναι μια ιδιότητα, $n\in \mathbf{N}$ και $C$
		      μια έννοια, τότε οι εκφράσεις $\exists r.\text{\eng{Self}}$
		      (περιορισμός σε αυτοαναφορικές σχέσεις),
		      $\geq nr.C$ (ελάχιστος περιορισμός) και
		      $\leq nr.C$ (μέγιστος περιορισμός) είναι επίσης έννοιες
	\end{itemize}

\end{definition}

\begin{definition}
	Ορίζουμε $\mathbb{C}$ να είναι το σύνολο όλων των εννοιών που προέρχονται
	από ένα σύνολο ονομάτων εννοιών $N_C$.
\end{definition}

\begin{definition}
	Έστω $C,D\in \mathbb{C}$. Η έκφραση $C\sqsubseteq D$ ονομάζεται αξίωμα
	εγκλεισμού έννοιας και σημαίνει ότι η έννοια $D$ συμπεριλαμβάνει την
	έννοια $C$.
\end{definition}

Μπορούμε έτσι να δώσουμε τον ορισμό του \eng{TBox}.

\begin{definition}
	Έστω $\mathcal{T}$ ένα πεπερασμένο σύνολο αξιωμάτων εγκλεισμού
	εννοιών. Το $\mathcal{T}$ ονομάζεται \eng{TBox} της $\mathcal{SROIQ}$.
\end{definition}

\subsection{\eng{ABox}}

Μέσω των \eng{RBox} και \eng{TBox} μπορούμε να εκφράσουμε χαρακτηριστικά
των ιδιοτήτων και των κλάσεων αντίστοιχα. Για τα χαρακτηριστικά ατόμων θα
χρειαστούμε του ακόλουθους ορισμούς.

\begin{definition}
	Έστω $a$ ένα άτομο και $C$ μια έννοια. Τότε με $C(a)$ θα συμβολίζουμε
	έναν εννοιολογικό ισχυρισμό, δηλαδή το γεγονός ότι το άτομο $a$ είναι
	στιγμιότυπο της έννοιας $C$.
\end{definition}

\begin{definition}
	Έστω $a,b$ άτομα και $r$ μια ιδιότητα. Τότε με $r(a,b)$ θα συμβολίζουμε
	τον ισχυρισμό ιδιότητας, δηλαδή το γεγονός ότι το άτομο $a$ συνδέεται
	με το άτομο $b$ μέσω της σχέσης $r$. Αντίστοιχα, με $\lnot r(a,b)$ θα
	συμβολίζουμε την άρνηση της $r$.
\end{definition}

\begin{definition}
	Έστω $a,b$ άτομα. Τότε με $a \approx b$ θα συμβολίζουμε τον ισχυρισμό
	ατομικής ισότητας, δηλαδή το γεγονός ότι δυο ονόματα αφορούν την ίδια
	οντότητα.
\end{definition}

\begin{remark}
	Η ατομική ισότητα μπορεί να φανεί χρήσιμη όταν συνδυάζουμε γνώση για
	ένα πεδίο ενδιαφέροντος από διαφορετικές πηγές. Αν γαι παράδειγμα
	συνδυάζαμε δυο οντολογίες για τα ζώα της Αφρικής και στη μια
	συναντούσαμε το είδος \eng{Acinonyx jubatus} ενώ στην άλλη το είδος
	\eng{Acinonyx venator} θα ίσχυε ότι
	\eng{Acinonyx venator} $\approx$ \eng{Acinonyx jubatus} καθώς και τα
	δυο αποτελούν ονόματα του τσιτάχ.
\end{remark}

Οι παραπάνω ορισμοί συνθέτουν τους λεγόμενους ατομικούς ισχυρισμούς.
Βάσει αυτών, μπορούμε να δώσουμε και τον ορισμό του \eng{ABox}.

\begin{definition}
	Ένα πεπερασμένο σύνολο $\mathcal{A}$ από ατομικούς ισχυρισμούς
	ονομάζεται \eng{ABox}. Επιπλέον, το $\mathcal{A}$ ονομάζεται
	εκτατικά ανηγμένο αν περιέχει μόνο ονόματα εννοιών και ονόματα
	ιδιοτήτων.
\end{definition}

\subsection{Βάσεις Γνώσης}

Έχοντας καλύψει όλα τα δομικά χαρακτηριστικά της γλώσσας
$\mathcal{SROIQ}$ μπορούμε να ορίσουμε τις βάσεις γνώσης που
μπορούμε να κατασκευάσουμε.

\begin{definition}
	Μια $\mathcal{SROIQ}$ βάση γνώσης $\mathcal{KB}$ αποτελεί την ένωση ενός
	ενός \eng{RBox} $\mathcal{R}$, ενός
	ενός \eng{TBox} $\mathcal{T}$ και ενός
	ενός \eng{ABox} $\mathcal{A}$. Τα στοιχεία της βάσης γνώσης
	ονομάζονται αξιώματα. Ακόμα, συμβολίζουμε με
	$N_I(\mathcal{KB}),N_C(\mathcal{KB})$ και $N_R(\mathcal{KB})$
	τα ονόματα ατόμων, εννοιών και ιδιοτήτων της $\mathcal{KB}$,
	αντίστοιχα.
\end{definition}

Ένα απλό παράδειγμα μιας $\mathcal{SROIQ}$ βάσης γνώσης είναι το
εξής.

\begin{example} Έστω η βάση γνώσης $\mathcal{KB}$:

	\eng{RBox} $\mathcal{R}$
	\begin{itemize}
		\item \eng{owns} $\sqsubseteq$ \eng{caresFor}
		      $\Rightarrow$
		      \eng{"If somebody owns something, they care for it."}
	\end{itemize}

	\eng{TBox} $\mathcal{T}$
	\begin{itemize}
		\item \eng{Healthy} $\sqsubseteq$ $\lnot$\eng{Dead} $\Rightarrow$
		      \eng{"Healthy beings are not dead."}
		      % 
		\item \eng{Cat} $\sqsubseteq$ \eng{Alive} $\sqcup$ \eng{Dead}
		      $\Rightarrow$ \eng{"Every cat is dead or alive."}
		      % 
		\item \eng{HappyCatOwner} $\sqsubseteq$
		      $\exists$\eng{owns.Cat} $\sqcap\ \forall$\eng{caresFor.Healthy}
		      $\Rightarrow$ \eng{"A happy cat owner owns a cat and
			      all beings he cares for are healthy."}
	\end{itemize}

	\eng{ABox} $\mathcal{A}$
	\begin{itemize}
		\item \eng{HappyCatOwner(schr\"odinger)} $\Rightarrow$
		      \eng{"Schr\"odinger is happy cat owner."}
	\end{itemize}

\end{example}


\section{Η δομή μιας οντολογίας}

\quad Ανεξάρτητα από το πεδίο εφαρμογής και την γλώσσα που επιλέγεται,
όλες οι οντολογίες μοιράζονται κάποια βασικά μέρη. Αυτό αποτελεί
απόρροια της στενής σχέσης οντολογιών και Περιγραφικής Λογικής, από
την οποία αντλούνται αυτούσιοι οι μηχανισμοί περιγραφής ιδιοτήτων.
Οι όποιες διαφορές και προσθήκες στις οντολογίες απλά εξασφαλίζουν
την προσβασιμότητα από μηχανές. Στη συνέχεια παρουσιάζονται τα
άτομα, οι κλάσεις και οι σχέσεις, αναπόσπαστα κομμάτια κάθε οντολογίας.

\subsection{’τομα}

\quad Με τον όρο \emph{άτομα} εννοούμε οποιαδήποτε οντότητα θέλουμε να
συμπεριλάβουμε στην περιγραφή μας, όπως για παράδειγμα "Γιάννης",
"ρολόι" ή "Αθήνα". Τα άτομα μιας οντολογίας αντιστοιχίζονται
στο σύνολο $N_I$ των ονομάτων ατόμων της Περιγραφικής Λογικής.
Τα άτομα χρησιμεύουν ως "ετικέτες" που ξεχωρίζουν τα αντικείμενα
και δεν επηρεάζουν την λογική δομή μιας οντολογίας.

Συχνά όμως
διαφορετικά άτομα μπορεί να αντιστοιχίζονται στην ίδια οντότητα του
πραγματικού κόσμου, χωρίς να γνωρίζουμε την αντιστοιχία αυτή. Αυτός
είναι και ο λόγος που στις οντολογίες υιοθετούμε την υπόθεση του
"ανοικτού σύμπαντος"\footnote{\eng{
		https://en.wikipedia.org/wiki/Open-world\_assumption
	}},
όπου μια δήλωση μπορεί να είναι αληθής ακόμα και αν δεν το
γνωρίζουμε. Αντίθετα, η υπόθεση του "κλειστού σύμπαντος" συνεπάγεται
ότι έχουμε πλήρη γνώση κάθε αληθούς δήλωσης άρα κάθε άλλη δήλωση
είναι λανθασμένη. Η υπόθεση του ανοικτού σύμπαντος είναι θεμελιώδης
για τις οντολογίες καθώς χωρίς αυτή θα ήταν αδύνατο να εξάγουμε νέα
γνώση. Εκτός αυτού, εκφράζει το γεγονός ότι οι οντολογίες συχνά
χρησιμοποιούνται για την περιγραφή ενός διαρκώς μεταβαλλόμενου
πεδίου γνώσης όπου είναι αδύνατο να έχουμε πλήρη εποπτεία.

\subsection{Κλάσεις}

\quad Οι κλάσεις αποτελούν συλλογές αντικειμένων. Οι συλλογές αυτές
προκύπτουν είτε μέσα από την απαρίθμηση των μελών τους (δηλαδή μέσω
ενός \emph{εκτατικού} ορισμού)
είτε μέσα από κάποιες ιδιότητες που οφείλουν
να έχουν τα μέλη μιας κλάσης (δηλαδή μέσω ενός \emph{εντατικού} ορισμού)
Οι κλάσεις αντιστοιχίζονται στο σύνολο $N_C$ των ονομάτων εννοιών
της Περιγραφικής Λογικής. Ακόμα, οι κλάσεις μας επιτρέπουν τη
δημιουργία ιεραρχικών δομών μέσα από εγκλεισμούς, αποτελώντας μια
επέκταση των δυνατοτήτων που συναντάμε στην γλώσσα \eng{RDFS}.
Στις οντολογίες η έννοια της κλάσης αντιμετωπίζεται όπως
και στις ταξινομίες (βλ.παράδειγμα \ref{rdfs:example}).
Mια κλάση δηλαδή δεν ορίζεται από τις ιδιότητες των
στιγμιοτύπων της αλλά οι ιδιότητες είναι αυτές που ορίζονται
με βάση τις κλάσεις που αφορούν.

\subsection{Σχέσεις}

\quad Με τον όρο σχέσεις εννοούμε τις διμελείς σχέσεις μεταξύ
οντοτήτων, στις οποίες αποδίδουν ιδιότητες. Οι σχέσεις σε
μια οντολογία είναι το αντίστοιχο του συνόλου $N_R$ των
ονομάτων ιδιοτήτων στην Περιγραφική Λογική. Όμοια με τις ιεραρχίες
κλάσεων, μπορούμε να κατασκευάσουμε ιεραρχίες ιδιοτήτων. Επιπλέον
μπορούμε να προσδώσουμε στις σχέσεις αυτές τυπικά χαρακτηριστικά
των διμελών σχέσεων όπως συμμετρία ή ανακλαστικότητα αλλά και να
εισάγουμε καθολικούς ή υπαρξιακούς περιορισμούς στο πως συνδέονται
τα μέλη μιας σχέσης. Τέλος, σημειώνεται ότι η ανακλαστικότητα
αποτελεί το μέσο για να ορίσουμε αυτοαναφορικές ιδιότητες,
περιοριζόμενη όμως από τους κανόνες της Περιγραφικής Λογικής.

\section{Η γλώσσα \eng{OWL2}}

\quad Η γλώσσα \eng{OWL} αποτελεί το πιο διαδεδομένο εργαλείο
για την κατασκευή οντολογιών. Βασίζεται στα κατώτερα στρώματα
των Εννοιολογικών Τεχνολογιών, \eng{URI, XML} και \eng{RDFS}
(βλ. σχήμα \ref{fig:semanticlayers}) για τον καθορισμό της
συντακτικής της δομής ενώ η Περιγραφική Λογική δίνει στη γλώσσα
την τυπική σημασιολογία και τους κανόνες συνεπαγωγής. Από το
2009 η δεύτερη έκδοση της \eng{OWL}, γνωστή και ως \eng{OWL2},
είναι διαθέσιμη. Η έκδοση αυτή βασίζεται στην Περιγραφική
Λογική $\mathcal{SROIQ}$ και φέρει τη μέγιστη δυνατή
εκφραστικότητα διατηρώντας επιθυμητά χαρακτηριστικά όπως η
πολυωνυμική πολυπλοκότητα και η αποφανσιμότητα. Στη συνέχεια
παρουσιάζονται τα δομικά της στοιχεία καθώς και παραδείγματα απλών
περιγραφών σε \eng{OWL2}.

\subsection{Κλάσεις στην \eng{OWL2}}

\quad Οι κλάσεις στην \eng{OWL2} ακολουθούν τη λογική της \eng{RDFS}
δίνοντας τη δυνατότητα οργάνωσης μέσω υποκλάσεων και δηλώνοντας
τις συλλογές ατόμως με κοινά χαρακτηριστικά. Τα άτομα μπορούν να
ανήκουν ταυτόχρονα σε πολλές διαφορετικές κλάσεις. Μπορούμε να
δηλώσουμε τις κλάσεις στις οποίες ανήκει ένα άτομο μέσα από
περιγραφές της μορφής:
\eng{ \lstinputlisting{chapter3/owl2_class.xml} }

Στην περίπτωση που θέλουμε να δηλώσουμε την υποκλάση μιας
δοσμένης κλάσης χρησιμοποιούμε μια περιγραφή της μορφής:
\eng{ \lstinputlisting{chapter3/owl2_subclass.xml} }

% Μια τέτοια σχέση επιτρέπει σε έναν \eng{reasoner} να εξάγει

Τέτοια παραδείγματα αποτελούν οι δηλώσεις
\inline{<Person rdf:about="Mary"/>} και
\inline{<Woman rdf:about="Mary"/>}. Μπορούμε ακόμα να διατυπώσουμε
τη σχέση που συνδέει αυτές τις κλάσεις
